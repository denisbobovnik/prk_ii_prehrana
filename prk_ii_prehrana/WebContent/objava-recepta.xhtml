<html
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:p="http://primefaces.org/ui">
	
	<h:body>
	<ui:composition template="WEB-INF/template/template-all.xhtml">
		
		
		<ui:define name="title">
			Objava članka
		</ui:define>
		
		<ui:insert name="pageLoader">
		</ui:insert>
		
		<ui:insert name="header">
		</ui:insert>
		
		<ui:define name="content">
			<f:view>

				<!-- Contact section -->
				<div class="contact-section spad fix">
					<div class="container">
						<div class="row">
						
							<!-- contact info -->
							<div class="col-md-5 col-md-offset-1 contact-info col-push">
								<div class="section-title left">
									<h2>Objavite recept</h2>
								</div>
							</div>
						
							<!-- contact form -->
							<div class="col-md-6 col-pull">
								<h:form enctype="multipart/form-data" class="form-class" id="con_form">
									<div class="row">
										<div class="col-sm-12">
											<p:inputText id="recept-title" name="ime" value="#{ReceptJSFBean.r.ime}" a:placeholder="Ime(*)" validatorMessage="Ime vsebuje samo crke" requried="true">
												<f:validateLength minimum="3" maximum="100"></f:validateLength>
												<f:validateRegex pattern="^([a-zA-Z]+(.)?[\s]*)$" /> 
											</p:inputText>
											
											<p:inputNumber id="dolzina-title" name="dolzina" value="#{ReceptJSFBean.r.dolzinaPriprave}" a:placeholder="Dolžina priprave(*)" minValue="1" maxValue="420" synmbol="min" validatorMessage="Prevec je dolgocasno" requried="true">
											</p:inputNumber>
											
											<p:inputNumber id="stevilo-title" name="stevilo" value="#{ReceptJSFBean.r.steviloPorcij}" a:placeholder="Število porcij(*)" minValue="1" maxValue="10" requried="true">
											</p:inputNumber>
							
											<p:inputTextarea id="recept-content" name="content" value="#{ReceptJSFBean.r.opis}" a:placeholder="Opis(*)" cols="30" rows="10" requried="true">
												<f:validateLength maximum="9999" minimum="10"/>
											</p:inputTextarea>
											
											Slika(*): <p:fileUpload skinSimple="true" a:onchange="if (tagName == 'INPUT') { if (!!value) PF('button').enable(); else PF('button').disable(); }" value="#{ReceptJSFBean.thumbnail}" mode="simple" />
											<p:inputText id="video-title" name="video" value="#{ReceptJSFBean.r.linkVideo}" a:placeholder="Video(*)">
											</p:inputText>
											
											<p:inputText id="kategorija-title" name="kategorija" value="#{ReceptJSFBean.r.kategorija}" a:placeholder="Kategorija(*)" requried="true">
											   <f:validateRegex pattern="^([a-zA-Z]+(.)?[\s]*)$" /> 
											   <f:validateLength maximum="100" minimum="1"/>
											</p:inputText>
											
											<br />
											<p:inputTextarea id="recept-alergeni" name="content" value="#{ReceptJSFBean.alergeniPrivremeni}" a:placeholder="Alergeni(*)" cols="30" rows="10" requried="false">
												<f:validateLength maximum="9999" minimum="10"/>
											</p:inputTextarea>
											<br />
											
											<!-- redirect na seznam člankov... -->
											<p:commandButton widgetVar="button" disabled="#{facesContext.renderResponse or not facesContext.postback}" ajax="false" class="site-btn" value="Pošlji" actionListener="#{ReceptJSFBean.dodajRecept()}" action="dodajanje-sestavin-za-recept.xhtml"/>
											
											<br />
											<p:messages showDetail="false"/>
										</div>
									</div>
								</h:form>
							</div>
						</div>
					</div>
				</div>
				<!-- Contact section end-->	
	
			</f:view>
		</ui:define>
		
		<ui:insert name="footer">
		</ui:insert>
		
		<ui:insert name="jsAndJQuery">
		</ui:insert>
	
	</ui:composition>
	</h:body>
</html>